<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Song Finder</title>
<link href="https://cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Kantumruy+Pro:wght@400;700&display=swap" rel="stylesheet">
<style>
* { box-sizing: border-box; }
body {
  font-family: 'DM Sans', sans-serif;
  background: #0f0f0f;
  color: #f2f2f2;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 100vh;
  overflow-x: hidden;
}
header { margin-top: 40px; text-align: center; }
h1 { font-size: 2rem; margin-bottom: 10px; color: #fff; }

.search-bar-wrapper {
  display: flex;
  align-items: center;
  width: 90%;
  max-width: 400px;
  gap: 8px;
  margin: auto;
}
.search-bar-wrapper i { color: #888; font-size: 1.4rem; }
.search-bar-wrapper input {
  flex: 1;
  padding: 12px 16px;
  border-radius: 12px;
  border: none;
  outline: none;
  background: #1c1c1c;
  color: #f2f2f2;
  font-size: 1rem;
  transition: 0.3s;
}
.search-bar-wrapper input:focus { background: #242424; }

.song-list {
  margin-top: 40px;
  width: 90%;
  max-width: 600px;
  display: grid;
  grid-template-columns: 1fr;
  gap: 10px;
}
.song-card {
  background: #1b1b1b;
  border-radius: 12px;
  padding: 12px 12px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: 0.3s;
  cursor: pointer;
}
.song-card:hover { background: #252525; }
.song-info { display: flex; align-items: center; gap: 12px; }
.song-info i { color: #59a6ff; font-size: 1.4rem; }
.song-title { font-weight: 500; font-size: 1.1rem; }
.download-btns a {
  color: #9aa0a6;
  margin-left: 8px;
  text-decoration: none;
  font-size: 1.3rem;
  transition: 0.3s;
}
.download-btns a:hover { color: #59a6ff; }

footer {
  margin-top: auto;
  padding: 20px;
  font-size: 0.9rem;
  color: #888;
  text-align: center;
}

/* ADMIN BUTTONS */
#toggleWrapper {
  position: fixed; bottom: 40px; right: 40px;
  display: flex; align-items: center; gap: 5px; z-index: 10000;
}
#toggleBtn, #logoutBtn, #pwSubmit { 
  width: 36px; height: 36px; border-radius: 50%;
  border: 1px solid rgba(255,255,255,0.15);
  background: rgba(255,255,255,0.08);
  backdrop-filter: blur(8px);
  color: white; display: flex; align-items: center; justify-content: center;
  font-size: 18px; cursor: pointer;
  box-shadow: 0 8px 15px rgba(0,0,0,0.2);
  transition: all 0.3s ease;
}
#pwInput { display: none; background: rgba(255,255,255,0.08); border: none; color: white; padding: 6px 10px; border-radius: 8px; }

/* DRAGGABLE BOXES */
.draggable-box {
  position: fixed;
  left: 50%; top: 50%;
  transform: translate(-50%, -50%);
  width: 420px; max-width: 90%;
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.15);
  backdrop-filter: blur(8px);
  border-radius: 16px;
  display: none;
  flex-direction: column;
  color: #eee;
  z-index: 1000;
}
.draggable-header {
  display: flex; justify-content: space-between; align-items: center;
  padding: 10px 12px;
  cursor: grab;
  background: rgba(255,255,255,0.05);
  border-top-left-radius: 16px;
  border-top-right-radius: 16px;
  font-family: 'DM Sans', sans-serif;
}
.draggable-header button { 
  background: none; border: none; color: white; font-size: 1.1rem; cursor: pointer; 
  font-family: 'DM Sans', sans-serif; margin-left:5px; 
}

.draggable-content {
  padding: 12px 16px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  max-height: 60vh;
  overflow-y: auto;
  font-family: 'DM Sans', sans-serif;
}
.draggable-content h2 { 
  color: #59a6ff; text-align: center; font-family: 'Kantumruy Pro', sans-serif;
}
.draggable-content p { 
  color: #ccc; text-align: center; white-space: pre-line; font-size:16px; font-family: 'Kantumruy Pro', sans-serif; 
}

.download-btn {
  position: absolute;
  bottom: 10px;
  left: 10px;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.15);
  display: flex;
  align-items: center;
  justify-content: center;
  color: #fff;
  font-size: 20px;
  cursor: pointer;
  transition: 0.3s;
}
.download-btn:hover { background: #59a6ff; }

.draggable-content::-webkit-scrollbar { width: 6px; }
.draggable-content::-webkit-scrollbar-thumb { background-color: rgba(255,255,255,0.2); border-radius: 3px; }
.draggable-content::-webkit-scrollbar-track { background: transparent; }

#quickBox { resize: both; overflow: auto; min-width: 300px; min-height: 200px; max-width: 90%; max-height: 80vh; }

/* FULLSCREEN */
#quickBox.fullscreen {
  width: 100vw !important;
  height: 100vh !important;
  left: 0 !important;
  top: 0 !important;
  transform: none !important;
  border-radius: 0;
  display: flex;
  flex-direction: column;
}
#quickBox.fullscreen .draggable-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: center;
  overflow-y: auto;
  padding: 20px;
  max-height: 95%;
}
#quickBox.fullscreen h2,
#quickBox.fullscreen p {
  font-size: 5rem; /* default fullscreen bigger */
  margin: 20px 0;
  line-height: 1.2;
  white-space: pre-wrap;
}
</style>
</head>
<body>

<header>
  <h1><i class="ri-music-ai-line"></i> Song Finder</h1>
  <div class="search-bar-wrapper">
    <i class="ri-search-eye-line"></i>
    <input type="text" id="searchInput" placeholder="Search song title..." onkeyup="filterSongs()">
  </div>
</header>

<main class="song-list" id="songList"></main>
<footer>©Joshuachurch</footer>

<!-- ADMIN BUTTONS -->
<div id="toggleWrapper">
  <button id="toggleBtn"><i class="ri-key-line"></i></button>
  <input id="pwInput" type="password" placeholder="Password">
  <button id="pwSubmit"><i class="ri-arrow-right-line"></i></button>
  <button id="logoutBtn" style="display:none;"><i class="ri-lock-2-line"></i></button>
</div>

<!-- ADMIN PANEL -->
<div class="draggable-box" id="adminBox">
  <div class="draggable-header">
    <span><i class="ri-keynote-fill"></i> Admin Panel</span>
    <button id="closeAdmin"><i class="ri-close-circle-line"></i></button>
  </div>
  <div class="draggable-content">
    <input type="text" id="songTitle" placeholder="Song Title">
    <input type="text" id="songLyrics" placeholder="Lyrics">
    <input type="text" id="songPage" placeholder="Song Page (URL)">
    <input type="text" id="songPptx" placeholder="PPTX Link">
    <button onclick="addSong()">Add Song (Local)</button>
  </div>
</div>

<!-- QUICK VIEW -->
<div class="draggable-box" id="quickBox">
  <div class="draggable-header">
    <span><i class="ri-music-ai-line"></i> Quick View</span>
    <div>
      <button onclick="increaseFont()">A+</button>
      <button onclick="decreaseFont()">A-</button>
      <button onclick="toggleFullscreen()">⛶</button>
      <button onclick="closeQuick()"><i class="ri-close-circle-line"></i></button>
    </div>
  </div>
  <div class="draggable-content">
    <h2 id="quickTitle"></h2>
    <p id="quickLyrics"></p>
    <a href="#" id="quickDownloadBtn" class="download-btn" target="_blank"><i class="ri-file-ppt-fill"></i></a>
  </div>
</div>

<script>
let songs=[], localSongs=[];
let HASHED_PASSWORD = btoa('node.js');
let authorized=false;
const songList=document.getElementById('songList');
const quickBox=document.getElementById('quickBox');
const quickTitle=document.getElementById('quickTitle');
const quickLyrics=document.getElementById('quickLyrics');
const quickDownloadBtn=document.getElementById('quickDownloadBtn');

let contentFontSize = 16; // default normal

// Fetch songs
fetch('https://thythet.com/assets/songs.json')
.then(r=>r.json())
.then(data=>{ songs=data; displaySongs(); })
.catch(err=>{
  console.error('Failed to load songs:', err);
  songList.innerHTML='<p style="text-align:center;color:#ccc;">⚠️ Failed to load songs.</p>';
});

function displaySongs(){
  songList.innerHTML='';
  const all = songs.concat(localSongs);
  all.forEach((song,index)=>{
    const div=document.createElement('div');
    div.className='song-card';
    div.innerHTML=`
      <div class="song-info" onclick="openQuick(${index})">
        <i class="ri-music-ai-line"></i>
        <span class="song-title">${song.title}</span>
      </div>
      <div class="download-btns">
        ${song.pptx?`<a href="${song.pptx}" target="_blank"><i class="ri-slideshow-line"></i></a>`:''}
      </div>`;
    songList.appendChild(div);
  });
}

function filterSongs(){
  const term=document.getElementById('searchInput').value.toLowerCase();
  document.querySelectorAll('.song-card').forEach(card=>{
    const t=card.querySelector('.song-title').textContent.toLowerCase();
    card.style.display=t.includes(term)?'flex':'none';
  });
}

// Quick view
function openQuick(i){
  const song=[...songs,...localSongs][i];
  quickTitle.textContent = song.title;
  quickLyrics.textContent = song.lyrics || 'No lyrics';
  quickDownloadBtn.href = song.pptx || '#';
  quickBox.style.display='flex';
  quickBox.classList.remove('fullscreen');
  contentFontSize = 16;
  quickTitle.style.fontSize = contentFontSize+'px';
  quickLyrics.style.fontSize = contentFontSize+'px';
}

function closeQuick(){ 
  if(document.fullscreenElement) document.exitFullscreen();
  quickBox.classList.remove('fullscreen');
  quickBox.style.display='none';
}

function increaseFont(){ 
  contentFontSize += 2;
  quickTitle.style.fontSize = contentFontSize+'px';
  quickLyrics.style.fontSize = contentFontSize+'px';
}
function decreaseFont(){ 
  contentFontSize = Math.max(10, contentFontSize-2);
  quickTitle.style.fontSize = contentFontSize+'px';
  quickLyrics.style.fontSize = contentFontSize+'px';
}

// Admin login
const toggleBtn=document.getElementById('toggleBtn');
const pwInput=document.getElementById('pwInput');
const pwSubmit=document.getElementById('pwSubmit');
const logoutBtn=document.getElementById('logoutBtn');
const adminBox=document.getElementById('adminBox');
const closeAdmin=document.getElementById('closeAdmin');

toggleBtn.onclick=()=>{ 
  if(!authorized){ 
    pwInput.style.display='inline-block'; pwSubmit.style.display='inline-block';
  } else { 
    adminBox.style.display=adminBox.style.display==='flex'?'none':'flex'; 
  }
};
pwSubmit.onclick=()=>{ 
  if(btoa(pwInput.value)===HASHED_PASSWORD){ loginAdmin(); } 
  else pwInput.style.border='1px solid red'; 
  pwInput.value=''; 
};
logoutBtn.onclick=()=>{ authorized=false; adminBox.style.display='none'; logoutBtn.style.display='none'; };
function loginAdmin(){
  authorized=true;
  pwInput.style.display='none'; pwSubmit.style.display='none';
  adminBox.style.display='flex'; logoutBtn.style.display='flex';
}
closeAdmin.onclick=()=>adminBox.style.display='none';

// Add local song
function addSong(){
  const title=document.getElementById('songTitle').value.trim();
  const lyrics=document.getElementById('songLyrics').value.trim();
  const page=document.getElementById('songPage').value.trim();
  const pptx=document.getElementById('songPptx').value.trim();
  if(!title)return alert('Enter title');
  localSongs.push({title,lyrics,page,pptx});
  displaySongs();
  ['songTitle','songLyrics','songPage','songPptx'].forEach(id=>document.getElementById(id).value='');
}

// Draggable
function makeDraggable(el){
  let isDrag=false,dx=0,dy=0;
  const header=el.querySelector('.draggable-header');
  header.addEventListener('mousedown',e=>{
    isDrag=true;dx=e.clientX-el.offsetLeft;dy=e.clientY-el.offsetTop;
  });
  document.addEventListener('mousemove',e=>{
    if(isDrag){ el.style.left=e.clientX-dx+'px'; el.style.top=e.clientY-dy+'px'; el.style.transform='none'; }
  });
  document.addEventListener('mouseup',()=>isDrag=false);
}
makeDraggable(adminBox);
makeDraggable(quickBox);

// Fullscreen toggle
function toggleFullscreen(){
  if (!document.fullscreenElement) {
    quickBox.requestFullscreen();
    quickBox.classList.add('fullscreen');
    contentFontSize = 80; // 5rem = 80px
    quickTitle.style.fontSize = contentFontSize+'px';
    quickLyrics.style.fontSize = contentFontSize+'px';
  } else {
    document.exitFullscreen();
    quickBox.classList.remove('fullscreen');
    contentFontSize = 16;
    quickTitle.style.fontSize = contentFontSize+'px';
    quickLyrics.style.fontSize = contentFontSize+'px';
  }
}
</script>

 <!----------------------------------------------------------------------------------- TEXT → JSON TOOL (DRAGGABLE BUTTON + POPUP, Kantumruy Pro, Circle Buttons, Clear Inputs) -->
<link href="https://fonts.googleapis.com/css2?family=Kantumruy+Pro:wght@400;700&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css" rel="stylesheet">

<style>
/* Floating Draggable Button */
#jsonToolBtn {
  position: fixed;
  bottom: 90px;
  right: 40px;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.15);
  backdrop-filter: blur(8px);
  color: #fff;
  font-size: 18px;
  cursor: pointer;
  z-index: 10001;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 8px 15px rgba(0,0,0,0.25);
  user-select: none;
}
#jsonToolBtn:hover { background: rgba(89,166,255,0.35); }

/* Popup Box */
#jsonTool {
  position: fixed;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 420px;
  max-width: 92%;
  display: none;
  flex-direction: column;
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.15);
  backdrop-filter: blur(10px);
  border-radius: 16px;
  color: #fff;
  z-index: 10000;
  font-family: 'Kantumruy Pro', sans-serif;
}

/* Popup Header (Drag Handle) */
#jsonTool .header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 14px;
  background: rgba(255,255,255,0.06);
  border-top-left-radius: 16px;
  border-top-right-radius: 16px;
  cursor: grab;
  user-select: none;
}
#jsonTool .header:active { cursor: grabbing; }
#jsonTool .header span { display: flex; align-items: center; gap: 8px; }
#jsonTool .header .header-buttons { display: flex; gap: 8px; }
#jsonTool .header button {
  background: none;
  border: none;
  color: white;
  font-size: 18px;
  cursor: pointer;
}

/* Content */
#jsonTool .content {
  padding: 14px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  font-family: 'Kantumruy Pro', sans-serif;
}
#jsonTool input,
#jsonTool textarea {
  width: 100%;
  padding: 10px 12px;
  border-radius: 10px;
  border: none;
  background: rgba(255,255,255,0.08);
  color: #fff;
  font-size: 14px;
  font-family: 'Kantumruy Pro', sans-serif;
}
#jsonTool textarea { min-height: 140px; resize: vertical; }

/* Circle Buttons */
.button-group {
  display: flex;
  gap: 12px;
  justify-content: center;
}
.button-group button {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  border: 1px solid rgba(255,255,255,0.15);
  background: rgba(255,255,255,0.08);
  color: #fff;
  font-size: 20px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(8px);
  transition: 0.3s;
}
.button-group button:hover { background: rgba(89,166,255,0.35); }

/* JSON Output */
#jsonTool pre {
  background: rgba(0,0,0,0.45);
  padding: 12px;
  border-radius: 10px;
  font-size: 13px;
  overflow-x: auto;
  white-space: pre-wrap;
  font-family: 'Kantumruy Pro', sans-serif;
}
</style>

<!-- Draggable Floating Button -->
<button id="jsonToolBtn">
  <i class="ri-file-text-line"></i>
</button>

<!-- Draggable Popup Tool -->
<div id="jsonTool">
  <div class="header">
    <span>
      <i class="ri-file-text-line"></i>
      Text → JSON
    </span>
    <div class="header-buttons">
      <button title="Clear Inputs" onclick="clearInputs()">
        <i class="ri-eraser-fill"></i>
      </button>
      <button onclick="toggleJsonTool()" title="Close">
        <i class="ri-close-circle-line"></i>
      </button>
    </div>
  </div>

  <div class="content">
    <input id="jtTitle" placeholder="Title">
    <input id="jtArtist" placeholder="Artist">
    <textarea id="jtLyrics" placeholder="Lyrics (multiline)"></textarea>

    <div class="button-group">
      <button class="generate" title="Generate JSON" onclick="generateJSON()">
        <i class="ri-file-list-3-line"></i>
      </button>
      <button class="copyBtn" title="Copy JSON" onclick="copyJSON()">
        <i class="ri-file-copy-2-fill"></i>
      </button>
    </div>

    <pre id="jtOutput"></pre>
  </div>
</div>

<script>
const jsonTool = document.getElementById('jsonTool');
const jsonBtn = document.getElementById('jsonToolBtn');
const header = jsonTool.querySelector('.header');

/* Toggle popup */
function toggleJsonTool() {
  jsonTool.style.display =
    jsonTool.style.display === 'flex' ? 'none' : 'flex';
}

/* Generate JSON with leading comma */
function generateJSON() {
  const obj = {
    title: jtTitle.value.trim(),
    artist: jtArtist.value.trim(),
    lyrics: jtLyrics.value.trim()
  };
  jtOutput.textContent = ",\n" + JSON.stringify(obj, null, 2);
}

/* Copy JSON to clipboard */
function copyJSON() {
  if (!jtOutput.textContent) return;
  navigator.clipboard.writeText(jtOutput.textContent)
    .then(() => alert("Copied to clipboard!"))
    .catch(err => alert("Copy failed: " + err));
}

/* Clear input fields and output */
function clearInputs() {
  jtTitle.value = '';
  jtArtist.value = '';
  jtLyrics.value = '';
  jtOutput.textContent = '';
}

/* ---------------- BUTTON DRAG ---------------- */
let btnDragging = false, btnMoved = false;
let btnDX = 0, btnDY = 0;

jsonBtn.addEventListener('mousedown', e => {
  btnDragging = true;
  btnMoved = false;
  btnDX = e.clientX - jsonBtn.offsetLeft;
  btnDY = e.clientY - jsonBtn.offsetTop;
});
document.addEventListener('mousemove', e => {
  if (!btnDragging) return;
  btnMoved = true;
  jsonBtn.style.left = e.clientX - btnDX + 'px';
  jsonBtn.style.top = e.clientY - btnDY + 'px';
  jsonBtn.style.right = 'auto';
  jsonBtn.style.bottom = 'auto';
});
document.addEventListener('mouseup', () => btnDragging = false);

/* Touch support for button */
jsonBtn.addEventListener('touchstart', e => {
  const t = e.touches[0];
  btnDragging = true;
  btnMoved = false;
  btnDX = t.clientX - jsonBtn.offsetLeft;
  btnDY = t.clientY - jsonBtn.offsetTop;
});
document.addEventListener('touchmove', e => {
  if (!btnDragging) return;
  const t = e.touches[0];
  btnMoved = true;
  jsonBtn.style.left = t.clientX - btnDX + 'px';
  jsonBtn.style.top = t.clientY - btnDY + 'px';
  jsonBtn.style.right = 'auto';
  jsonBtn.style.bottom = 'auto';
});
document.addEventListener('touchend', () => btnDragging = false);

/* Click vs Drag */
jsonBtn.addEventListener('click', () => {
  if (!btnMoved) toggleJsonTool();
});

/* ---------------- POPUP DRAG ---------------- */
let popupDragging = false, popDX = 0, popDY = 0;

header.addEventListener('mousedown', e => {
  popupDragging = true;
  popDX = e.clientX - jsonTool.offsetLeft;
  popDY = e.clientY - jsonTool.offsetTop;
  jsonTool.style.transform = 'none';
});
document.addEventListener('mousemove', e => {
  if (!popupDragging) return;
  jsonTool.style.left = e.clientX - popDX + 'px';
  jsonTool.style.top = e.clientY - popDY + 'px';
});
document.addEventListener('mouseup', () => popupDragging = false);

/* Touch support for popup */
header.addEventListener('touchstart', e => {
  const t = e.touches[0];
  popupDragging = true;
  popDX = t.clientX - jsonTool.offsetLeft;
  popDY = t.clientY - jsonTool.offsetTop;
  jsonTool.style.transform = 'none';
});
document.addEventListener('touchmove', e => {
  if (!popupDragging) return;
  const t = e.touches[0];
  jsonTool.style.left = t.clientX - popDX + 'px';
  jsonTool.style.top = t.clientY - popDY + 'px';
});
document.addEventListener('touchend', () => popupDragging = false);
</script>

     <!----------------------------------------------------------------------------------end- TEXT → JSON TOOL (DRAGGABLE BUTTON + POPUP, Kantumruy Pro, Circle Buttons, Clear Inputs) -->

</body>
</html>




